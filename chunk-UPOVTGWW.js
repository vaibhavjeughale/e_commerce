import{$b as N,Fa as h,Fb as b,Hb as v,Nb as S,O as p,Pa as t,Qa as e,Qb as E,R as u,Ra as i,T as c,Tb as y,Vb as a,Wb as C,Xb as x,Ya as _,ac as P,bc as q,cc as w,db as r,dc as F,ec as L,fc as M,gc as U,hc as k,ib as g,lc as A,mc as D,nc as Y,va as f,wa as m}from"./chunk-GRQ5TGTN.js";var O=(()=>{let l=class l{constructor(n,o){this.http=n,this.apiService=o,this.user_url="http://localhost:3000/user/"}getUserData(n){return this.apiService.get(this.user_url+n)}updateUserData(n,o){return this.apiService.put(this.user_url+n,o)}};l.\u0275fac=function(o){return new(o||l)(u(v),u(E))},l.\u0275prov=p({token:l,factory:l.\u0275fac,providedIn:"root"});let d=l;return d})();var Z=(()=>{let l=class l{constructor(n,o,s){this.formBuilder=n,this.router=o,this.user_Service=s,this.userProfile=!1}ngOnInit(){this.user_id=Number(sessionStorage.getItem("user_session_id")),this.userProfileForm=this.formBuilder.group({name:["",a.required],mobNumber:["",a.required],age:["",a.required],dob:["",a.required],email:["",a.required],password:["",a.required],addLine1:["",a.required],addLine2:["",a.required],city:["",a.required],state:["",a.required],zipCode:["",a.required],language:["",a.required],gender:["",a.required],aboutYou:["",a.required],uploadPhoto:["",a.required]}),this.editUserData(this.user_id)}get rf(){return this.userProfileForm.controls}editUserData(n){this.user_Service.getUserData(n).subscribe(o=>{this.user_data=o,this.user_profile_pic=this.user_data.uploadPhoto,this.user_language=this.user_data.language,this.user_role=this.user_data.role,this.userProfileForm.setValue({name:this.user_data.name,mobNumber:this.user_data.mobNumber,age:this.user_data.age,dob:this.user_data.dob,email:this.user_data.email,password:this.user_data.password,language:this.user_data.language,gender:this.user_data.gender,addLine1:this.user_data.address.addLine1,addLine2:this.user_data.address.addLine2,city:this.user_data.address.city,state:this.user_data.address.state,zipCode:this.user_data.address.zipCode,aboutYou:this.user_data.aboutYou,uploadPhoto:""})},o=>{console.log("My error ",o)})}updateProfile(){this.userProfile=!0,!this.userProfileForm.invalid&&(this.user_update_data=this.userProfileForm.value,this.user_dto={aboutYou:this.user_update_data.aboutYou,age:this.user_update_data.age,agreetc:this.user_update_data.agreetc,dob:this.user_update_data.dob,email:this.user_update_data.email,gender:this.user_update_data.gender,address:{id:0,addLine1:this.user_update_data.addLine1,addLine2:this.user_update_data.addLine2,city:this.user_update_data.city,state:this.user_update_data.state,zipCode:this.user_update_data.zipCode},language:this.user_update_data.language,mobNumber:this.user_update_data.mobNumber,name:this.user_update_data.name,password:this.user_update_data.password,uploadPhoto:this.user_update_data.uploadPhoto==""?this.user_profile_pic:this.user_update_data.uploadPhoto,role:this.user_update_data.role},this.user_Service.updateUserData(this.user_id,this.user_dto).subscribe(n=>{alert("Prfile update successfull !"),this.user_role=="admin"?this.router.navigateByUrl("/admin-dashboard"):this.user_role=="seller"?this.router.navigateByUrl("/seller-dashboard"):this.user_role=="buyer"&&this.router.navigateByUrl("/buyer-dashboard")},n=>{console.log("my error update",n)}))}};l.\u0275fac=function(o){return new(o||l)(m(A),m(S),m(O))},l.\u0275cmp=c({type:l,selectors:[["app-user-profile"]],standalone:!0,features:[g],decls:105,vars:1,consts:[[1,"jumbotron"],[1,"container"],[1,"row"],[1,"col-md-10","offset-md-1"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","name","name","formControlName","name",1,"form-control"],["for","mobile"],["type","tel","formControlName","mobNumber",1,"form-control"],["for","age"],["type","number","formControlName","age",1,"form-control"],["for","dob"],["type","date","formControlName","dob",1,"form-control"],[1,"form-row"],[1,"form-group","col-md-6"],["for","email"],["type","email","placeholder","vaibhav@gmail.com","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["for","address"],["type","text","placeholder","vaibhav@gmail.com","formControlName","addLine1","placeholder","Enter your address..",1,"form-control"],["for","address2"],["type","text","placeholder","vaibhav@gmail.com","formControlName","addLine2","placeholder","Enter your address 2..",1,"form-control"],["for","city"],["type","text","placeholder","enter city","formControlName","city",1,"form-control"],[1,"form-group","col-md-4"],["for","state"],["name","","id","inputSate","formControlName","state",1,"form-control"],[1,"form-group","col-md-2"],["for","zip"],["type","number","placeholder","city","formControlName","zipCode",1,"form-control"],["for","language"],["multiple","","formControlName","language",1,"form-control"],["for","gender"],[1,"form-check","form-check-inline"],["type","radio","formControlName","gender","value","Male",1,"form-check-inline"],["for","male",1,"form-check-inline"],["type","radio","formControlName","gender","value","female",1,"form-check-inline"],["for","female",1,"form-check-inline"],["type","radio","formControlName","gender","value","other",1,"form-check-inline"],["for","Others",1,"form-check-inline"],["for","somethingAboutYou"],["formControlName","aboutYou","cols","3","rows","5",1,"form-control"],["for","uploadPhoto"],["type","file","formControlName","uploadPhoto",1,"form-control"],["type","submit",1,"btn","btn-primary"],["routerLink","/sign-n",1,"sim-pointer"]],template:function(o,s){o&1&&(i(0,"br"),t(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"fieldset")(6,"legend"),r(7," User-Reactive form "),e(),t(8,"form",4),_("ngSubmit",function(){return s.updateProfile()}),t(9,"div",5)(10,"label",6),r(11,"Name"),e(),i(12,"input",7),e(),t(13,"div",5)(14,"label",8),r(15,"Mobile Number"),e(),i(16,"input",9),e(),t(17,"div",5)(18,"label",10),r(19,"Enter Your Age"),e(),i(20,"input",11),e(),t(21,"div",5)(22,"label",12),r(23,"Enter Your DOB"),e(),i(24,"input",13),e(),t(25,"div",14)(26,"div",15)(27,"label",16),r(28,"Email"),e(),i(29,"input",17),e(),t(30,"div",15)(31,"label",18),r(32,"Password"),e(),i(33,"input",19),e(),t(34,"div",5)(35,"label",20),r(36,"Address 1"),e(),i(37,"input",21),e(),t(38,"div",5)(39,"label",22),r(40,"Address 2"),e(),i(41,"input",23),e()(),t(42,"div",14)(43,"div",15)(44,"label",24),r(45,"City"),e(),i(46,"input",25),e(),t(47,"div",26)(48,"label",27),r(49,"State"),e(),t(50,"select",28)(51,"option"),r(52,"Haryana"),e(),t(53,"option"),r(54,"Maharashtra "),e()()(),t(55,"div",29)(56,"label",30),r(57," Zip code"),e(),i(58,"input",31),e()(),t(59,"div",5)(60,"label",32),r(61," Language"),e(),t(62,"select",33)(63,"option"),r(64,"Hindi"),e(),t(65,"option"),r(66,"Engilsh"),e(),t(67,"option"),r(68,"Marathi"),e(),t(69,"option"),r(70,"Telgu"),e(),t(71,"option"),r(72,"Odiya"),e(),t(73,"option"),r(74,"Bhokpuri"),e(),t(75,"option"),r(76,"Other"),e()()(),t(77,"div",5)(78,"label",34),r(79,"Gender"),e(),t(80,"div",35),i(81,"input",36),t(82,"label",37),r(83,"Male"),e()(),t(84,"div",35),i(85,"input",38),t(86,"label",39),r(87,"Female"),e()(),t(88,"div",35),i(89,"input",40),t(90,"label",41),r(91,"Others"),e()()(),t(92,"div",5)(93,"label",42),r(94,"Somthing About you"),e(),i(95,"textarea",43),e(),t(96,"div",5)(97,"label",44),r(98,"Upload Your Profile Photo"),e(),i(99,"input",45),e(),t(100,"div",5)(101,"button",46),r(102,"Update Your Profile"),e()(),t(103,"p",47),r(104," Alrady have an account Click here to login "),e()()()()()()()),o&2&&(f(8),h("formGroup",s.userProfileForm))},dependencies:[b,D,N,M,k,y,P,L,U,q,C,x,Y,w,F],styles:[".sim-pointe[_ngcontent-%COMP%]{color:#00f}"]});let d=l;return d})();export{Z as UserProfileComponent};
